# Phase5 計画書の疑問点と修正要望

このドキュメントは、Phase5 UI実装計画（`c:\Users\siso\.cursor\plans\phase5_ui実装計画_22be29cf.plan.md`）に対する疑問点と修正要望を記録したものです。
後続のAgentが確認・対応できるよう、具体的な内容を記載しています。

## 記録日

2024年（記録時点）

## 対象計画ファイル

- `c:\Users\siso\.cursor\plans\phase5_ui実装計画_22be29cf.plan.md`

## バックログ管理に関する疑問点

### 1. 未読ストーリー全部の表示について

**疑問点**: 未読ストーリー全部を表示すると多すぎる可能性がある。

**現状の計画書の記載**（107行目）:

- 「基本はすべての未読ストーリーを表示」

**要検討事項**:

- 初期表示時の件数制限が必要か
- ページネーションや仮想スクロールの導入を検討すべきか（計画書の357行目で「必要に応じて仮想スクロールを検討」と記載あり）
- フィルターを適用した状態をデフォルトにするべきか
- すべて表示する方針のままで良いか、初期表示は制限するか

### 2. フィルター適用時の動作について

**疑問点**: フィルターで絞り込んだら勝手に計画済み扱いになりそう。

**現状の計画書の記載**（108行目）:

- 「フィルターで絞り込み、絞り込まれたものだけランク付け」

**要修正事項**:

- フィルターで絞り込んだだけでは計画済み扱いにしない
- 「現在表示されているもので読みたい順を決める」のような明示的なボタンを用意し、そのボタンを押した時点で編集モードに入る設計にする
- フィルター適用と計画作成の操作を明確に分離する
- 計画書の108行目の記載は、フィルター適用とランク付けの関係が曖昧なため、明確化が必要

### 3. 自動ルールの設定について

**疑問点**: 自動ルールは未設定なので、これの確認も必要。

**現状の計画書の記載**（111行目、234行目）:

- 「自動ルール（おすすめ順）: 最初は簡単な1個だけ実装、今後の拡張」
- 「自動ルール適用（おすすめ順）: 最初は簡単な1個だけ」

**要確認事項**:

- 自動ルールのデフォルト設定をどうするか
- 自動ルールが未設定の場合の動作をどうするか
- 自動ルールの設定UIをどこに配置するか（計画書には具体的なUI配置が記載されていない）
- 「簡単な1個」とは具体的にどのルールを指すのか（アイドル順、レアリティ順など）

## カンバン管理に関する疑問点

### 1. 初期状態の列構成について

**疑問点**: 最初はシンプルに未読・既読でもいいのかもしれない（操作の手間もある）。

**現状の計画書の記載**（93行目、115行目）:

- 「画面A: カンバン（進捗確認）: 未読・挑戦中・既読の3列で表示」
- 「カンバン管理: 未読・挑戦中・既読の3列」

**要検討事項**:

- 初期状態では3列（未読・挑戦中・既読）ではなく、未読・既読の2列で開始する選択肢を検討
- ユーザーが段階的に複雑な管理に移行できるようにする
- 初期設定で列構成を選択できるようにする
- 「挑戦中」列をオプションにするか、最初は非表示にするか

### 2. 列の表示ON/OFF機能について

**疑問点**: 列の表示ON/OFFがあってもいいかも。中間列と既読は非表示や折りたたみにする需要があると思う。

**現状の計画書の記載**:

- 列の表示ON/OFF機能については記載がない

**要追加事項**:

- 列の表示/非表示を切り替える機能を追加
- 特に「挑戦中」列を非表示にする機能
- 既読列を非表示にする機能
- 折りたたみ機能の検討
- 計画書にこの機能を追加するか検討が必要

## データ構造に関する疑問点

### 1. BacklogItem の定義について

**疑問点**: BacklogItem とは？ストーリーIdでも入れるのか？それとも管理したい単位で自由設定？

**現状の計画書の記載**（322-326行目）:

```typescript
interface BacklogItem {
  storyId: string
  rank: number // ランク（小さいほど優先度が高い）
  isPlanned: boolean // 計画済みかどうか（falseの場合は未計画セクション）
}
```

**要明確化事項**:

- `BacklogItem` は `storyId` を持つことが定義されているが、これはストーリー単位での管理を前提としている
- カード単位やその他の単位で管理したい場合の対応が不明確
- 管理単位を自由に設定できる設計にするのか、ストーリーID固定なのかを明確にする必要がある

### 2. Phase5Storage の命名について

**疑問点**: Phase5Storageというふざけた命名はだめ。Phase5はあくまで今の作業の区切りであり、役割や意味を持った名称ではない。

**現状の計画書の記載**（149行目）:

- `Phase5Storage`: Phase5全体のストレージ構造

**要修正事項**:

- `Phase5Storage` という命名を避ける
- 役割や意味を持った適切な名称に変更する
- 例: `ReadingPlanStorage`, `SprintKanbanStorage`, `BacklogKanbanStorage` など、機能を表す名称を検討
- 計画書の149行目で使用されているため、実装前に修正が必要

## モック・ワイヤーフレームに関する疑問点

### 1. モックやワイヤーフレームの作成について

**疑問点**: モックやワイヤーフレームを出すと言っていたが、計画に盛り込まれていない。いきなり実装するの？

**現状の計画書の記載**:

- モックやワイヤーフレームの作成工程は記載されていない
- Phase 5.5（バックログ画面）や Phase 5.6（カンバン画面）の実装が直接記載されている
- 実装前の設計工程（モック/ワイヤーフレーム作成）が欠けている

**要確認事項**:

- 実装前にモックやワイヤーフレームを作成する工程を追加すべきか
- モック/ワイヤーフレームの作成タイミング（実装前か、並行か）
- 計画書の実装フェーズに、モック/ワイヤーフレーム作成の工程を追加するか検討が必要

## その他の確認事項

### 計画書の設計方針との整合性

計画書の「確定した設計方針」セクション（89-125行目）に記載されている内容と、上記の疑問点との整合性を確認する必要がある。

特に:

- バックログ管理の設計（105-111行目）と、フィルター適用時の動作の疑問点
- カンバン管理の設計（113-119行目）と、初期状態の列構成の疑問点

これらの設計方針を踏まえつつ、疑問点を解決する必要がある。

## 次のアクション

これらの疑問点と修正要望は、後続のAgentが以下を実施する際に参照すべき：

1. 計画書の修正
2. データモデルの詳細設計
3. UI/UXの詳細設計
4. 実装前のモック/ワイヤーフレーム作成

各疑問点について、実装前に決定・明確化する必要がある。
